/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(t){"use strict";t("#sidebarToggle, #sidebarToggleTop").on("click",function(o){t("body").toggleClass("sidebar-toggled"),t(".sidebar").toggleClass("toggled"),t(".sidebar").hasClass("toggled")&&t(".sidebar .collapse").collapse("hide")}),t(window).resize(function(){t(window).width()<768&&t(".sidebar .collapse").collapse("hide")}),t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(o){if(768<t(window).width()){var e=o.originalEvent,l=e.wheelDelta||-e.detail;this.scrollTop+=30*(l<0?1:-1),o.preventDefault()}}),t(document).on("scroll",function(){100<t(this).scrollTop()?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t(document).on("click","a.scroll-to-top",function(o){var e=t(this);t("html, body").stop().animate({scrollTop:t(e.attr("href")).offset().top},1e3,"easeInOutExpo"),o.preventDefault()})}(jQuery);


// function slicheck(ele) {
//   var checkboxes = document.getElementsByTagName('input');
//   var checked = []
//   for(var i=0;i<checkbox.length;i++){
//       if(checkbox[i].checked){
//           checked.push(checkbox[i].value)
//       }
//   }
//   document.querySelector('textarrea').innerHTML=checked
// }

//전체 선택
function checkAll(ele) {
    var checkboxes = document.getElementsByTagName('input');
    if (ele.checked) {
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].type == 'checkbox') {
                checkboxes[i].checked = true;
            }
        }
    } else {
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].type == 'checkbox') {
                checkboxes[i].checked = false;
            }
        }
    }
  }

function changeDates(obj1){


  var selected_index = obj1.selectedIndex;
  var selected_text = obj1.options[selected_index].text;

  var obj2 = document.getElementById("dateSelect");
  var jsonData = document.getElementById("subjectsJSON");
  var subjects = JSON.parse(jsonData.text);
 
  var result = null;
  subjects.forEach(function(subject){
    if(subject.subject == selected_text)
    result = subject;
  })

  obj2.options.length=0;

  var opt = "";

  if(result==null) {
    opt = document.createElement('option');
    opt.text="날짜를 선택하세요"  
    obj2.add(opt);
    return;
  }

  var jsonData2 = document.getElementById("dateSelected");
  var dateSelected = JSON.parse(jsonData2.text);
  const week = ['일', '월', '화', '수', '목', '금', '토'];


	for(var i=0; i<result.dates.length; i++)
	{
    opt = document.createElement('option');
    var str = result.dates[i];
    var date = new Date(str);
  
    opt.value=date;

    if(dateSelected!=null && dateSelected == date.toString()){
     opt.selected = true;
    }

    opt.text=date.getFullYear()+'년 '+(date.getMonth()+1)+'월 '+date.getDate()+'일 '+ '(' + week[date.getDay()]+')';
		obj2.add(opt);
	}
  };

